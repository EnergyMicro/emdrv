<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Energy Micro Drivers: nvm/inc/nvm.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_cab5eac6601b941afe1ff211733eceb1.html">nvm</a>&nbsp;&raquo;&nbsp;<a class="el" href="dir_d0af51242d981b230c798d3107497f45.html">inc</a>
  </div>
</div>
<div class="contents">
<h1>nvm.h File Reference</h1>
<p>Non-Volatile Memory Manager.  
<a href="#_details">More...</a></p>
<code>#include &lt;stdint.h&gt;</code><br/>
<code>#include &lt;stdbool.h&gt;</code><br/>
<code>#include &quot;em_device.h&quot;</code><br/>
<div class="dynheader">
Include dependency graph for nvm.h:</div>
<div class="dynsection">
<div class="center"><img src="nvm_8h__incl.png" border="0" usemap="#nvm_2inc_2nvm_8h_map" alt=""/></div>
</div>
<div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dynsection">
<div class="center"><img src="nvm_8h__dep__incl.png" border="0" usemap="#nvm_2inc_2nvm_8hdep_map" alt=""/></div>
<map name="nvm_2inc_2nvm_8hdep_map" id="nvm_2inc_2nvm_8hdep">
<area shape="rect" id="node3" href="nvm_8c.html" title="Non&#45;Volatile Memory Driver." alt="" coords="5,80,112,107"/><area shape="rect" id="node5" href="nvm__hal_8c.html" title="Non&#45;Volatile Memory HAL." alt="" coords="136,80,267,107"/></map>
</div>

<p><a href="nvm_8h_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structNVM__Object__Descriptor__t.html">NVM_Object_Descriptor_t</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Describes the properties of an object in a page.  <a href="structNVM__Object__Descriptor__t.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structNVM__Page__Descriptor__t.html">NVM_Page_Descriptor_t</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Describes the properties of a page.  <a href="structNVM__Page__Descriptor__t.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structNVM__Config__t.html">NVM_Config_t</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Configuration structure.  <a href="structNVM__Config__t.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="structNVM__Object__Descriptor__t.html">NVM_Object_Descriptor_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NVM.html#gad031bb1b4302cdf6c337fdcfb367256b">NVM_Page_t</a> []</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A collection of object descriptors that make up a page.  <a href="group__NVM.html#gad031bb1b4302cdf6c337fdcfb367256b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="structNVM__Page__Descriptor__t.html">NVM_Page_Descriptor_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NVM.html#ga397a9a680fa744d86084bdcb3521548a">NVM_Page_Table_t</a> []</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The list of pages registered for use.  <a href="group__NVM.html#ga397a9a680fa744d86084bdcb3521548a"></a><br/></td></tr>
<tr><td colspan="2"><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NVM.html#gae2a292fc163eaa08574b4c061c0b1eca">NVM_Page_Type_t</a> { <br/>
&nbsp;&nbsp;<a class="el" href="group__NVM.html#ggae2a292fc163eaa08574b4c061c0b1ecaa2e7a6f6ed6a5752e4c4148104af077cd">nvmPageTypeNormal</a> =  0, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__NVM.html#ggae2a292fc163eaa08574b4c061c0b1ecaa81f13288c7f3413c4dc96832d7c11117">nvmPageTypeWear</a> =  1
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Enum describing the type of logical page we have; normal or wear. </p>
 <a href="group__NVM.html#gae2a292fc163eaa08574b4c061c0b1eca">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NVM.html#ga0d8d4b3f88ff1fb2eb95b0b1ea14a7a4">NVM_Result_t</a> { <br/>
&nbsp;&nbsp;<a class="el" href="group__NVM.html#gga0d8d4b3f88ff1fb2eb95b0b1ea14a7a4ab2a0e1ac14d3bef96b336b08caab8b71">nvmResultOk</a> =  0, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__NVM.html#gga0d8d4b3f88ff1fb2eb95b0b1ea14a7a4a56588a6d44220b2674232a638a545210">nvmResultAddrInvalid</a> =  1, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__NVM.html#gga0d8d4b3f88ff1fb2eb95b0b1ea14a7a4adb77a318d5c4e1a6275d197dd893e07c">nvmResultInputInvalid</a> =  2, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__NVM.html#gga0d8d4b3f88ff1fb2eb95b0b1ea14a7a4a6a64bc960ab527f4b8debcaa77c5b353">nvmResultDataInvalid</a> =  3, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__NVM.html#gga0d8d4b3f88ff1fb2eb95b0b1ea14a7a4af8145f5d4e04f5590ed5cb1aac421f9e">nvmResultWriteLock</a> =  4, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__NVM.html#gga0d8d4b3f88ff1fb2eb95b0b1ea14a7a4a8f5e5c106a187cb6337f4a196045e8ff">nvmResultNoPages</a> =  5, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__NVM.html#gga0d8d4b3f88ff1fb2eb95b0b1ea14a7a4a53c6dc9ed31b05c84ad77e2e792855c2">nvmResultNoPage</a> =  6, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__NVM.html#gga0d8d4b3f88ff1fb2eb95b0b1ea14a7a4ae3c2a8a15627f201bedb2563ae22fca9">nvmResultErrorInitial</a> =  7, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__NVM.html#gga0d8d4b3f88ff1fb2eb95b0b1ea14a7a4a892f7d002ed842b9a78791c3060cdd4e">nvmResultError</a> =  8
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Result type for all the API functions. </p>
 <a href="group__NVM.html#ga0d8d4b3f88ff1fb2eb95b0b1ea14a7a4">More...</a><br/></td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NVM.html#ga0d8d4b3f88ff1fb2eb95b0b1ea14a7a4">NVM_Result_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NVM.html#ga9cfeca62e83161ee1aa67187f59bcfdf">NVM_Init</a> (<a class="el" href="structNVM__Config__t.html">NVM_Config_t</a> const *config)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize the NVM manager.  <a href="group__NVM.html#ga9cfeca62e83161ee1aa67187f59bcfdf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NVM.html#ga0d8d4b3f88ff1fb2eb95b0b1ea14a7a4">NVM_Result_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NVM.html#gaba5ef1e9c83fcf490d0ac6e45513f597">NVM_Erase</a> (uint32_t erasureCount)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Erase the entire NVM.  <a href="group__NVM.html#gaba5ef1e9c83fcf490d0ac6e45513f597"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NVM.html#ga0d8d4b3f88ff1fb2eb95b0b1ea14a7a4">NVM_Result_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NVM.html#ga3731be4b973fb565af60dc9905bfe289">NVM_Write</a> (uint16_t pageId, uint8_t objectId)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write an object or a page.  <a href="group__NVM.html#ga3731be4b973fb565af60dc9905bfe289"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__NVM.html#ga0d8d4b3f88ff1fb2eb95b0b1ea14a7a4">NVM_Result_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NVM.html#gaa91a84a7102e51e3453f01293f292385">NVM_Read</a> (uint16_t pageId, uint8_t objectId)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read an object or an entire page.  <a href="group__NVM.html#gaa91a84a7102e51e3453f01293f292385"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NVM.html#ga00eaed13302c2951bec32c92dca57597">NVM_WearLevelGet</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get maximum wear level.  <a href="group__NVM.html#ga00eaed13302c2951bec32c92dca57597"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Non-Volatile Memory Manager. </p>
<dl class="author"><dt><b>Author:</b></dt><dd>Energy Micro AS </dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd>3.20.0</dd></dl>
<p>This is a software manager module for non-volatile memory. It consists of <a class="el" href="nvm_8c.html" title="Non-Volatile Memory Driver.">nvm.c</a>, <a class="el" href="nvm_8h.html" title="Non-Volatile Memory Manager.">nvm.h</a> and <a class="el" href="nvm__hal_8h.html" title="Non-Volatile Memory HAL.">nvm_hal.h</a>. In addition to this it requires a valid <a class="el" href="nvm__hal_8c.html" title="Non-Volatile Memory HAL.">nvm_hal.c</a>. This lets the manager work with different types of memory. Files nvm_config_template.* shows possible configuration of objects and could be used as template for customer application.</p>
<p>The module has the following public interfaces:</p>
<p><a class="el" href="group__NVM.html#ga9cfeca62e83161ee1aa67187f59bcfdf" title="Initialize the NVM manager.">NVM_Init()</a> <a class="el" href="group__NVM.html#gaba5ef1e9c83fcf490d0ac6e45513f597" title="Erase the entire NVM.">NVM_Erase()</a> <a class="el" href="group__NVM.html#ga3731be4b973fb565af60dc9905bfe289" title="Write an object or a page.">NVM_Write()</a> <a class="el" href="group__NVM.html#gaa91a84a7102e51e3453f01293f292385" title="Read an object or an entire page.">NVM_Read()</a> NVM_WearLevel()</p>
<p>Users have to be aware of the following limitations of the module:</p>
<ul>
<li>Maximum 254 objects in a page and 256 pages (limited by uint8_t).</li>
</ul>
<h2><a class="anchor" id="License">
License</a></h2>
<p><b>(C) Copyright 2013 Energy Micro AS, <a href="http://www.energymicro.com">http://www.energymicro.com</a></b></p>
<p>Permission is granted to anyone to use this software for any purpose, including commercial applications, and to alter it and redistribute it freely, subject to the following restrictions:</p>
<p>1. The origin of this software must not be misrepresented; you must not claim that you wrote the original software. 2. Altered source versions must be plainly marked as such, and must not be misrepresented as being the original software. 3. This notice may not be removed or altered from any source distribution. 4. The source and compiled code may only be used on Energy Micro "EFM32" microcontrollers and "EFR4" radios.</p>
<p>DISCLAIMER OF WARRANTY/LIMITATION OF REMEDIES: Energy Micro AS has no obligation to support this Software. Energy Micro AS is providing the Software "AS IS", with no express or implied warranties of any kind, including, but not limited to, any implied warranties of merchantability or fitness for any particular purpose or warranties against infringement of any proprietary rights of a third party.</p>
<p>Energy Micro AS will not be liable for any consequential, incidental, or special damages, or any other relief, or for any claim by any third party, arising from your use of this Software. </p>

<p>Definition in file <a class="el" href="nvm_8h_source.html">nvm.h</a>.</p>
</div>
<div id="footer">
<hr size="1"><address style="text-align: right;"><small>
Generated on Tue May 7 13:23:38 2013</small> for Energy Micro Drivers by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a><small> 1.6.3 </small></address></div>
</body>
</html>
